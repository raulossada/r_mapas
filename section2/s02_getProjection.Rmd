```{r knitsetup, echo=FALSE, results='hide', warning=FALSE, message=FALSE, cache=FALSE}
opts_knit$set(base.dir='./', fig.path='', out.format='md')
opts_chunk$set(prompt=FALSE, comment='', results='markup')
# See yihui.name/knitr/options for more Knitr options.
##### Put other setup R code here


# end setup chunk
```

## Como ver os atributos da projeção

#### Função: proj4string

Para ver os atributos da projeção de um objeto carregado usando a função `readOGR`, podemos usar a função `proj4string` do pacote `sp`.

Parâmetros interessantes da função: 
- `obj`: Nome do objeto com os dados do shapefile.

1) Vamos carregar o shapefile:
```{r message=FALSE}
library("rgdal");
sp_mapa_rgdal <- readOGR(dsn="sp_municipios", layer="35MUE250GC_SIR", 
                         verbose=FALSE, stringsAsFactors=FALSE);
```

**2) Vamos ver qual a projeção desse shapefile:**
```{r}
proj4string(obj=sp_mapa_rgdal);
```

Alguns atributos de projeções:
- `+ellps`
- `+datum`
- `+proj`
- `+zone`
- `+units`
- `+init`

Sugestões de busca em inglês: "r shapefile projection".

***

#### Em outros pacotes: maptools - função: proj4string

Para um objeto carregado usando a função `readShapeSpatial`, também podemos usar a função `proj4string`.

1) Carregando o shapefile:
```{r}
library("maptools");
sp_mapa_maptools <- readShapeSpatial(fn="sp_municipios/35MUE250GC_SIR");
```

**2) Verificando os atributos da projeção:**
```{r}
proj4string(obj=sp_mapa_maptools);
```
Como havíamos mencionado anteriormente, a função `readShapeSpatial` não lê o arquivo ".prj" que contém as informações sobre os atributos da projeção de um shapefile. Assim, cabe ao usuário conhecer e inserir essas informações. Processo que será realizado a seguir:

3) Alterando os atributos da projeção:
```{r}
proj4string(obj=sp_mapa_maptools) <- "+proj=longlat +ellps=GRS80 +no_defs";
```

4) Verificando se os atributos da projeção foram alterados:
```{r}
proj4string(obj=sp_mapa_maptools);
```
Como podemos ver, agora o objeto `sp_mapa_maptools` possui os atributos da projeção.

****

#### Em outros pacotes: PBSmapping - Função: attr

Já para um objeto carregado usando a função `importShapefile`, temos que usar a função `attr`.

1) Carregando o shapefile:
```{r}
library("PBSmapping");
sp_mapa_pbsmapping <- importShapefile(fn="sp_municipios/35MUE250GC_SIR", readDBF=TRUE);
```

**2) Verificando os atributos da projeção:**
```{r}
attr(x=sp_mapa_pbsmapping, which="prj");
```
Como havíamos mencionado anteriormente, a função `importShapefile` lê o arquivo ".prj", mas usa um formato diferente do **formato proj4**, como as funções anteriores.

